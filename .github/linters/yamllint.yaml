---
extends: default

ignore:
  # Ignore SOPS encrypted files
  - '*.sops.yaml'
  - '*.sops.yml'

  # Ignore raw secret files
  - '*.secret.yaml'

  # Ignore kustomize helm charts
  - 'infra/**/*/integrations/**/*/charts/*'

  # Ignore python virtual environments
  - '.venv/**'

  # Ignore FluxCD specific files
  - gotk-sync.yaml
  - gotk-components.yaml

  # Ignore Talos specific files
  - 'infra/**/*/secrets.yaml'
  - 'infra/**/*/talsecret.yaml'
  - 'infra/**/*/rendered/*'
  - 'infra/**/*/clusterconfig/*'

rules:
  line-length:
    max: 150

  braces:
    level: warning
    max-spaces-inside: 1

  brackets:
    level: warning
    max-spaces-inside: 1

  # Ignore document start on sops decrypted files since there's not much
  # to do about it. they are generated
  document-start:
    ignore:
      - kubernetes/**/*/*.secret.yaml

  # Ignore truthy for github workflows due to dummy trigger on the
  # 'on:' clause
  truthy:
    ignore:
      - .github/workflows/*.yml
      - .github/workflows/*.yaml
