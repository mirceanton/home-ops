---
creation_rules:
  # Encrypt Talos secrets
  - path_regex: secrets.sops.yaml
    encrypted_regex: "^(id|secret|bootstraptoken|secretboxencryptionsecret|token|ca|crt|key)$"
    key_groups:
      - age:
          - age1c3f5mkutp9j7vfs3qkll86fgnxkgxh2cshr5wjdp7y6gzj9445jqfzpnyy

  # Encrypt Machineconfig
  - path_regex: base.sops.yaml
    encrypted_regex: "^(id|secret|bootstraptoken|secretboxencryptionsecret|token|ca|crt|key)$"
    key_groups:
      - age:
          - age1c3f5mkutp9j7vfs3qkll86fgnxkgxh2cshr5wjdp7y6gzj9445jqfzpnyy

  # Encyrpt talosconfig
  - path_regex: talosconfig.sops.yaml
    encrypted_regex: "^(ca|crt|key)$"
    key_groups:
      - age:
          - age1c3f5mkutp9j7vfs3qkll86fgnxkgxh2cshr5wjdp7y6gzj9445jqfzpnyy
