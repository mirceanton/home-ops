# TODO
# ---
# version: '3'

# includes:
#   pkc-k8s:
#     taskfile: ./k8s.yaml
#     internal: true
#   flux-utils:
#     taskfile: ../../utils/flux.yaml
#     internal: true

# tasks:
#   default:
#     cmds:
#       - task: bootstrap
#       - task: wait

#   bootstrap:
#     desc: Install flux on the production cluster.
#     deps: [ pkc-k8s:import:config ]
#     cmds:
#       - task: flux-utils:bootstrap
#         vars:
#           PATH: clusters/production/flux
#           BRANCH: main

#   reconcile:
#     desc: Force flux to reconcile all kustomizations.
#     deps: [ pkc-k8s:import:config ]
#     cmds:
#       - task: flux-utils:reconcile

#   wait:
#     desc: Wait for flux to finish installing and synchronize all of the kustomizations.
#     deps: [ pkc-k8s:import:config ]
#     cmds:
#       - task: flux-utils:wait
