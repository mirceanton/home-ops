---
version: '3'

tasks:
  delete-stuck-ns:
    description: Delete all namespaces stuck in "terminating" state.
    cmds:
      - bash {{.ROOT_DIR}}/scripts/delete-stuck-ns.sh

  get-dashboard-token:
    description: Fetch and decode the token needed for the kubernetes dashboard authentication
    cmds:
      - kubectl get secret dashboard-admin-sa-token -n kube-dashboard -o=jsonpath='{.data.token}' | base64 -d && echo ""

  get-ceph-admin-password:
    description: Fetch and decode the token needed for the kubernetes dashboard authentication
    cmds:
      - kubectl get secret rook-ceph-dashboard-password -n rook-ceph-system  -o=jsonpath='{.data.password}' | base64 -d && echo ""
